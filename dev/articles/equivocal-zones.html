<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="probably">
<title>Equivocal zones • probably</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.4/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.4/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Equivocal zones">
<meta property="og:description" content="probably">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="probably.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">probably</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.0.9004</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/equivocal-zones.html">Equivocal zones</a>
    <a class="dropdown-item" href="../articles/where-to-use.html">Where does probably fit in?</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidymodels/probably/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Equivocal zones</h1>
                        <h4 data-toc-skip class="author">Davis
Vaughan</h4>
            
            <h4 data-toc-skip class="date">2023-01-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/probably/blob/HEAD/vignettes/equivocal-zones.Rmd" class="external-link"><code>vignettes/equivocal-zones.Rmd</code></a></small>
      <div class="d-none name"><code>equivocal-zones.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/probably/" class="external-link">probably</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="equivocal-zones">Equivocal zones<a class="anchor" aria-label="anchor" href="#equivocal-zones"></a>
</h2>
<p>In some fields, class probability predictions must meet certain
standards before a firm decision can be made using them. If they fail
these standards, the prediction can be marked as <em>equivocal</em>,
which just means that you are unsure of the true result. You might want
to further investigate these equivocal values, or rerun whatever process
generated them before proceeding.</p>
<p>For example, in a binary model, if a prediction returned probability
values of 52% Yes and 48% No, are you really sure that that isn’t just
random noise? In this case, you could use a <em>buffer</em> surrounding
a <em>threshold</em> of 50% to determine whether or not your model is
sure of its predictions, and mark values you are unsure about as
equivocal.</p>
<p>Another example could come from a Bayesian perspective, where each
prediction comes with a probability distribution. Your model might
predict 80% Yes, but could have a standard deviation around that of +/-
20%. In this case, you could set a maximum allowed standard deviation as
the cutoff of whether or not to mark values as equivocal.</p>
<p>To work with these equivocal zones, probably provides a new class for
hard class predictions that is very similar to a factor, but allows you
to mark certain values as equivocal.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span>, <span class="st">"Yes"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a class_pred object from a factor</span></span>
<span><span class="fu"><a href="../reference/class_pred.html">class_pred</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] Yes No  Yes Yes</span></span>
<span><span class="co">#&gt; Levels: No Yes</span></span>
<span><span class="co">#&gt; Reportable: 100%</span></span>
<span></span>
<span><span class="co"># Say you aren't sure about that 2nd "Yes" value. </span></span>
<span><span class="co"># You could mark it as equivocal.</span></span>
<span><span class="fu"><a href="../reference/class_pred.html">class_pred</a></span><span class="op">(</span><span class="va">x</span>, which <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] Yes  No   [EQ] Yes </span></span>
<span><span class="co">#&gt; Levels: No Yes</span></span>
<span><span class="co">#&gt; Reportable: 75%</span></span></code></pre></div>
<p>The <em>reportable rate</em> is the fraction of values that are not
equivocal, relative to the total number. Above, you can see that the
reportable rate started at 100%, but as soon as a single value was
marked equivocal, that value dropped to 75%. In fields where equivocal
zones are used, there is often a tradeoff between marking values as
equivocal and keeping a certain minimum reportable rate.</p>
<p>Generally, you won’t create these <code>class_pred</code> objects
directly, but will instead create them indirectly through converting
class probabilities into class predictions with
<code><a href="../reference/make_class_pred.html">make_class_pred()</a></code> and
<code><a href="../reference/make_class_pred.html">make_two_class_pred()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"segment_logistic"</span><span class="op">)</span></span>
<span><span class="va">segment_logistic</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1,010 × 3</span></span></span>
<span><span class="co">#&gt;    .pred_poor .pred_good Class</span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>    0.986      0.014<span style="text-decoration: underline;">2</span>  poor </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>    0.897      0.103   poor </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>    0.118      0.882   good </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>    0.102      0.898   good </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>    0.991      0.009<span style="text-decoration: underline;">14</span> poor </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>    0.633      0.367   good </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>    0.770      0.230   good </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>    0.008<span style="text-decoration: underline;">42</span>    0.992   good </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>    0.995      0.004<span style="text-decoration: underline;">58</span> poor </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    0.765      0.235   poor </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1,000 more rows</span></span></span>
<span></span>
<span><span class="co"># Convert probabilities into predictions</span></span>
<span><span class="co"># &gt; 0.5 = good</span></span>
<span><span class="co"># &lt; 0.5 = poor</span></span>
<span><span class="va">segment_logistic_thresh</span> <span class="op">&lt;-</span> <span class="va">segment_logistic</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    .pred <span class="op">=</span> <span class="fu"><a href="../reference/make_class_pred.html">make_two_class_pred</a></span><span class="op">(</span></span>
<span>      estimate <span class="op">=</span> <span class="va">.pred_good</span>, </span>
<span>      levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">Class</span><span class="op">)</span>, </span>
<span>      threshold <span class="op">=</span> <span class="fl">0.5</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">segment_logistic_thresh</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1,010 × 4</span></span></span>
<span><span class="co">#&gt;    .pred_poor .pred_good Class      .pred</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;clss_prd&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>    0.986      0.014<span style="text-decoration: underline;">2</span>  poor        poor</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>    0.897      0.103   poor        poor</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>    0.118      0.882   good        good</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>    0.102      0.898   good        good</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>    0.991      0.009<span style="text-decoration: underline;">14</span> poor        poor</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>    0.633      0.367   good        poor</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>    0.770      0.230   good        poor</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>    0.008<span style="text-decoration: underline;">42</span>    0.992   good        good</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>    0.995      0.004<span style="text-decoration: underline;">58</span> poor        poor</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    0.765      0.235   poor        poor</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1,000 more rows</span></span></span></code></pre></div>
<p>If a <code>buffer</code> is used, an equivocal zone is created around
the threshold of <code>threshold +/- buffer</code> and any values inside
the zone are automatically marked as equivocal.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert probabilities into predictions</span></span>
<span><span class="co">#        x &gt; 0.55 = good</span></span>
<span><span class="co">#        x &lt; 0.45 = poor</span></span>
<span><span class="co"># 0.45 &lt; x &lt; 0.55 = equivocal</span></span>
<span><span class="va">segment_pred</span> <span class="op">&lt;-</span> <span class="va">segment_logistic</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    .pred <span class="op">=</span> <span class="fu"><a href="../reference/make_class_pred.html">make_two_class_pred</a></span><span class="op">(</span></span>
<span>      estimate <span class="op">=</span> <span class="va">.pred_good</span>, </span>
<span>      levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">Class</span><span class="op">)</span>, </span>
<span>      threshold <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>      buffer <span class="op">=</span> <span class="fl">0.05</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> </span>
<span></span>
<span><span class="va">segment_pred</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">.pred</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;        .pred     n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;clss_prd&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       [EQ]    45</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       good   340</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       poor   625</span></span>
<span></span>
<span><span class="va">segment_pred</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>reportable <span class="op">=</span> <span class="fu"><a href="../reference/reportable_rate.html">reportable_rate</a></span><span class="op">(</span><span class="va">.pred</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   reportable</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>      0.955</span></span></code></pre></div>
<p>Equivocal values in <code>class_pred</code> objects are converted to
<code>NA</code> when the object is converted to a factor. It’s also
worth noting that the <code>[EQ]</code> label is not treated as a
separate level.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">segment_pred</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>.pred_fct <span class="op">=</span> <span class="fu"><a href="https://generics.r-lib.org/reference/coercion-factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">.pred</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">.pred</span>, <span class="va">.pred_fct</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">#&gt;        .pred .pred_fct     n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;clss_prd&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       [EQ] <span style="color: #BB0000;">NA</span>           45</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       good good        340</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       poor poor        625</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">segment_pred</span><span class="op">$</span><span class="va">.pred</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "good" "poor"</span></span></code></pre></div>
<p>This <code>NA</code> behavior feeds into how probably can be used
with yardstick. Generally, equivocal values are removed completely from
performance evaluation. So converting them to <code>NA</code> and then
leaving the default <code>na_rm = TRUE</code> in any yardstick metric
removes them from consideration.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/yardstick" class="external-link">yardstick</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; For binary classification, the first factor level is assumed to be the event.</span></span>
<span><span class="co">#&gt; Use the argument `event_level = "second"` to alter this as needed.</span></span>
<span></span>
<span><span class="co"># No equivocal zone</span></span>
<span><span class="va">segment_logistic_thresh</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>.pred_fct <span class="op">=</span> <span class="fu"><a href="https://generics.r-lib.org/reference/coercion-factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">.pred</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://yardstick.tidymodels.org/reference/precision.html" class="external-link">precision</a></span><span class="op">(</span><span class="va">Class</span>, <span class="va">.pred_fct</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt;   .metric   .estimator .estimate</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> precision binary         0.680</span></span>
<span></span>
<span><span class="co"># Equivocal zone</span></span>
<span><span class="va">segment_pred</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>.pred_fct <span class="op">=</span> <span class="fu"><a href="https://generics.r-lib.org/reference/coercion-factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">.pred</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://yardstick.tidymodels.org/reference/precision.html" class="external-link">precision</a></span><span class="op">(</span><span class="va">Class</span>, <span class="va">.pred_fct</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt;   .metric   .estimator .estimate</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> precision binary         0.694</span></span></code></pre></div>
<p>As seen above, removing equivocal values using a simple threshold
generally improves performance because the values your model is most
unsure about are removed. But don’t be fooled! You should give those
cases extra consideration, and remember that your reportable rate has
decreased by removing them. In production, you’ll likely have to do
something with those predictions!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer>
</body>
</html>
